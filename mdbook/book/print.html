<!DOCTYPE HTML>
<html lang="en,zh" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>实现领域驱动设计</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="chapter_1/index.html"><strong aria-hidden="true">1.</strong> Chapter 1  Getting Started with DDD</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_1/chapter_1_1.html"><strong aria-hidden="true">1.1.</strong> Can I DDD</a></li><li class="chapter-item expanded "><a href="chapter_1/chapter_1_2.html"><strong aria-hidden="true">1.2.</strong> Why You Should Do DDD</a></li><li class="chapter-item expanded "><a href="chapter_1/chapter_1_3.html"><strong aria-hidden="true">1.3.</strong> How to Do DDD </a></li><li class="chapter-item expanded "><a href="chapter_1/chapter_1_4.html"><strong aria-hidden="true">1.4.</strong> The Business Value of Using DDD</a></li><li class="chapter-item expanded "><a href="chapter_1/chapter_1_5.html"><strong aria-hidden="true">1.5.</strong> The Challenges of Applying DDD</a></li><li class="chapter-item expanded "><a href="chapter_1/chapter_1_6.html"><strong aria-hidden="true">1.6.</strong> Fiction, with Bucketfuls of Reality</a></li><li class="chapter-item expanded "><a href="chapter_1/chapter_1_7.html"><strong aria-hidden="true">1.7.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_2/index.html"><strong aria-hidden="true">2.</strong> Chapter 2  Domains, Subdomains, and Bounded Contexts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_2/chapter_2_1.html"><strong aria-hidden="true">2.1.</strong> Big Picture</a></li><li class="chapter-item expanded "><a href="chapter_2/chapter_2_2.html"><strong aria-hidden="true">2.2.</strong> Why Strategic Design Is So Incredibly Essential</a></li><li class="chapter-item expanded "><a href="chapter_2/chapter_2_3.html"><strong aria-hidden="true">2.3.</strong> Real-World Domains and Subdomains</a></li><li class="chapter-item expanded "><a href="chapter_2/chapter_2_4.html"><strong aria-hidden="true">2.4.</strong> Making Sense of Bounded Contexts</a></li><li class="chapter-item expanded "><a href="chapter_2/chapter_2_5.html"><strong aria-hidden="true">2.5.</strong> Sample Contexts</a></li><li class="chapter-item expanded "><a href="chapter_2/chapter_2_6.html"><strong aria-hidden="true">2.6.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_3/index.html"><strong aria-hidden="true">3.</strong> Chapter 3 Context Maps</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_3/chapter_3_1.html"><strong aria-hidden="true">3.1.</strong> Why Context Maps Are So Essential</a></li><li class="chapter-item expanded "><a href="chapter_3/chapter_3_2.html"><strong aria-hidden="true">3.2.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_4/index.html"><strong aria-hidden="true">4.</strong> Chapter 4 Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_4/chapter_4_1.html"><strong aria-hidden="true">4.1.</strong> Interviewing the Successful CIO</a></li><li class="chapter-item expanded "><a href="chapter_4/chapter_4_2.html"><strong aria-hidden="true">4.2.</strong> Layers</a></li><li class="chapter-item expanded "><a href="chapter_4/chapter_4_3.html"><strong aria-hidden="true">4.3.</strong> Hexagonal or Ports and Adapters</a></li><li class="chapter-item expanded "><a href="chapter_4/chapter_4_4.html"><strong aria-hidden="true">4.4.</strong> Service-Oriented</a></li><li class="chapter-item expanded "><a href="chapter_4/chapter_4_5.html"><strong aria-hidden="true">4.5.</strong> Representational State Transfer—REST</a></li><li class="chapter-item expanded "><a href="chapter_4/chapter_4_6.html"><strong aria-hidden="true">4.6.</strong> Command-Query Responsibility Segregation, or CQRS</a></li><li class="chapter-item expanded "><a href="chapter_4/chapter_4_7.html"><strong aria-hidden="true">4.7.</strong> Event-Driven Architecture</a></li><li class="chapter-item expanded "><a href="chapter_4/chapter_4_8.html"><strong aria-hidden="true">4.8.</strong> Data Fabric and Grid-Based Distributed Computing</a></li><li class="chapter-item expanded "><a href="chapter_4/chapter_4_9.html"><strong aria-hidden="true">4.9.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_5/index.html"><strong aria-hidden="true">5.</strong> Chapter 5 Entities</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_5/chapter_5_1.html"><strong aria-hidden="true">5.1.</strong> Why We Use Entities</a></li><li class="chapter-item expanded "><a href="chapter_5/chapter_5_2.html"><strong aria-hidden="true">5.2.</strong> Unique Identity</a></li><li class="chapter-item expanded "><a href="chapter_5/chapter_5_3.html"><strong aria-hidden="true">5.3.</strong> Discovering Entities and Their Intrinsic Characteristics</a></li><li class="chapter-item expanded "><a href="chapter_5/chapter_5_4.html"><strong aria-hidden="true">5.4.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_6/index.html"><strong aria-hidden="true">6.</strong> Chapter 6 Value Objects</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_6/chapter_6_0.html"><strong aria-hidden="true">6.1.</strong> Value Characteristics</a></li><li class="chapter-item expanded "><a href="chapter_6/chapter_6_1.html"><strong aria-hidden="true">6.2.</strong> Integrate with Minimalism</a></li><li class="chapter-item expanded "><a href="chapter_6/chapter_6_2.html"><strong aria-hidden="true">6.3.</strong> Standard Types Expressed as Values</a></li><li class="chapter-item expanded "><a href="chapter_6/chapter_6_3.html"><strong aria-hidden="true">6.4.</strong> Testing Value Objects</a></li><li class="chapter-item expanded "><a href="chapter_6/chapter_6_4.html"><strong aria-hidden="true">6.5.</strong> Implementation</a></li><li class="chapter-item expanded "><a href="chapter_6/chapter_6_5.html"><strong aria-hidden="true">6.6.</strong> Persisting Value Objects</a></li><li class="chapter-item expanded "><a href="chapter_6/chapter_6_6.html"><strong aria-hidden="true">6.7.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_7/index.html"><strong aria-hidden="true">7.</strong> Chapter 7 Services</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_7/chapter_7_0.html"><strong aria-hidden="true">7.1.</strong> What a Domain Service Is (but First, What It Is Not)</a></li><li class="chapter-item expanded "><a href="chapter_7/chapter_7_1.html"><strong aria-hidden="true">7.2.</strong> Make Sure You Need a Service</a></li><li class="chapter-item expanded "><a href="chapter_7/chapter_7_2.html"><strong aria-hidden="true">7.3.</strong> Modeling a Service in the Domain</a></li><li class="chapter-item expanded "><a href="chapter_7/chapter_7_3.html"><strong aria-hidden="true">7.4.</strong> Testing Services</a></li><li class="chapter-item expanded "><a href="chapter_7/chapter_7_4.html"><strong aria-hidden="true">7.5.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_8/index.html"><strong aria-hidden="true">8.</strong> Chapter 8 Domain Events</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_8/chapter_8_0.html"><strong aria-hidden="true">8.1.</strong> The When and Why of Domain Events</a></li><li class="chapter-item expanded "><a href="chapter_8/chapter_8_1.html"><strong aria-hidden="true">8.2.</strong> Modeling Events</a></li><li class="chapter-item expanded "><a href="chapter_8/chapter_8_2.html"><strong aria-hidden="true">8.3.</strong> Publishing Events from the Domain Model</a></li><li class="chapter-item expanded "><a href="chapter_8/chapter_8_3.html"><strong aria-hidden="true">8.4.</strong> Spreading the News to Remote Bounded Contexts</a></li><li class="chapter-item expanded "><a href="chapter_8/chapter_8_4.html"><strong aria-hidden="true">8.5.</strong> Event Store</a></li><li class="chapter-item expanded "><a href="chapter_8/chapter_8_5.html"><strong aria-hidden="true">8.6.</strong> Architectural Styles for Forwarding Stored Events</a></li><li class="chapter-item expanded "><a href="chapter_8/chapter_8_6.html"><strong aria-hidden="true">8.7.</strong> Implementation</a></li><li class="chapter-item expanded "><a href="chapter_8/chapter_8_7.html"><strong aria-hidden="true">8.8.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_9/index.html"><strong aria-hidden="true">9.</strong> Chapter 9 Modules</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_9/chapter_9_0.html"><strong aria-hidden="true">9.1.</strong> Designing with Modules</a></li><li class="chapter-item expanded "><a href="chapter_9/chapter_9_1.html"><strong aria-hidden="true">9.2.</strong> Basic Module Naming Conventions</a></li><li class="chapter-item expanded "><a href="chapter_9/chapter_9_2.html"><strong aria-hidden="true">9.3.</strong> Module Naming Conventions for the Model</a></li><li class="chapter-item expanded "><a href="chapter_9/chapter_9_3.html"><strong aria-hidden="true">9.4.</strong> Modules of the Agile Project Management Context</a></li><li class="chapter-item expanded "><a href="chapter_9/chapter_9_4.html"><strong aria-hidden="true">9.5.</strong> Modules in Other Layers</a></li><li class="chapter-item expanded "><a href="chapter_9/chapter_9_5.html"><strong aria-hidden="true">9.6.</strong> Module before Bounded Context</a></li><li class="chapter-item expanded "><a href="chapter_9/chapter_9_6.html"><strong aria-hidden="true">9.7.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_10/index.html"><strong aria-hidden="true">10.</strong> Chapter 10 Aggregates</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_10/chapter_10_0.html"><strong aria-hidden="true">10.1.</strong> Using Aggregates in the Scrum Core Domain</a></li><li class="chapter-item expanded "><a href="chapter_10/chapter_10_1.html"><strong aria-hidden="true">10.2.</strong> Rule: Model True Invariants in Consistency Boundaries</a></li><li class="chapter-item expanded "><a href="chapter_10/chapter_10_2.html"><strong aria-hidden="true">10.3.</strong> Rule: Design Small Aggregates</a></li><li class="chapter-item expanded "><a href="chapter_10/chapter_10_3.html"><strong aria-hidden="true">10.4.</strong> Rule: Reference Other Aggregates by Identity</a></li><li class="chapter-item expanded "><a href="chapter_10/chapter_10_4.html"><strong aria-hidden="true">10.5.</strong> Rule: Use Eventual Consistency Outside the Boundary</a></li><li class="chapter-item expanded "><a href="chapter_10/chapter_10_5.html"><strong aria-hidden="true">10.6.</strong> Reasons to Break the Rules</a></li><li class="chapter-item expanded "><a href="chapter_10/chapter_10_6.html"><strong aria-hidden="true">10.7.</strong> Gaining Insight through Discovery</a></li><li class="chapter-item expanded "><a href="chapter_10/chapter_10_7.html"><strong aria-hidden="true">10.8.</strong> Implementation</a></li><li class="chapter-item expanded "><a href="chapter_10/chapter_10_8.html"><strong aria-hidden="true">10.9.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_11/index.html"><strong aria-hidden="true">11.</strong> Chapter 11 Factories</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_11/chapter_11_0.html"><strong aria-hidden="true">11.1.</strong> Factories in the Domain Model</a></li><li class="chapter-item expanded "><a href="chapter_11/chapter_11_1.html"><strong aria-hidden="true">11.2.</strong> Factory Method on Aggregate Root</a></li><li class="chapter-item expanded "><a href="chapter_11/chapter_11_2.html"><strong aria-hidden="true">11.3.</strong> Factory on Service</a></li><li class="chapter-item expanded "><a href="chapter_11/chapter_11_3.html"><strong aria-hidden="true">11.4.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_12/index.html"><strong aria-hidden="true">12.</strong> Chapter 12 Repositories</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_12/chapter_12_0.html"><strong aria-hidden="true">12.1.</strong> Collection-Oriented Repositories</a></li><li class="chapter-item expanded "><a href="chapter_12/chapter_12_1.html"><strong aria-hidden="true">12.2.</strong> Persistence-Oriented Repositories</a></li><li class="chapter-item expanded "><a href="chapter_12/chapter_12_2.html"><strong aria-hidden="true">12.3.</strong> Additional Behavior</a></li><li class="chapter-item expanded "><a href="chapter_12/chapter_12_3.html"><strong aria-hidden="true">12.4.</strong> Managing Transactions</a></li><li class="chapter-item expanded "><a href="chapter_12/chapter_12_4.html"><strong aria-hidden="true">12.5.</strong> Type Hierarchies</a></li><li class="chapter-item expanded "><a href="chapter_12/chapter_12_5.html"><strong aria-hidden="true">12.6.</strong> Repository versus Data Access Object</a></li><li class="chapter-item expanded "><a href="chapter_12/chapter_12_6.html"><strong aria-hidden="true">12.7.</strong> Testing Repositories</a></li><li class="chapter-item expanded "><a href="chapter_12/chapter_12_7.html"><strong aria-hidden="true">12.8.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_13/index.html"><strong aria-hidden="true">13.</strong> Chapter 13 Integrating Bounded Contexts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_13/chapter_13_0.html"><strong aria-hidden="true">13.1.</strong> Integration Basics</a></li><li class="chapter-item expanded "><a href="chapter_13/chapter_13_1.html"><strong aria-hidden="true">13.2.</strong> Integration Using RESTful Resources</a></li><li class="chapter-item expanded "><a href="chapter_13/chapter_13_2.html"><strong aria-hidden="true">13.3.</strong> Integration Using Messaging</a></li><li class="chapter-item expanded "><a href="chapter_13/chapter_13_3.html"><strong aria-hidden="true">13.4.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="chapter_14/index.html"><strong aria-hidden="true">14.</strong> Chapter 14 Application</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="chapter_14/chapter_14_0.html"><strong aria-hidden="true">14.1.</strong> User Interface</a></li><li class="chapter-item expanded "><a href="chapter_14/chapter_14_1.html"><strong aria-hidden="true">14.2.</strong> Application Services</a></li><li class="chapter-item expanded "><a href="chapter_14/chapter_14_2.html"><strong aria-hidden="true">14.3.</strong> Composing Multiple Bounded Contexts</a></li><li class="chapter-item expanded "><a href="chapter_14/chapter_14_3.html"><strong aria-hidden="true">14.4.</strong> Infrastructure</a></li><li class="chapter-item expanded "><a href="chapter_14/chapter_14_4.html"><strong aria-hidden="true">14.5.</strong> Enterprise Component Containers</a></li><li class="chapter-item expanded "><a href="chapter_14/chapter_14_5.html"><strong aria-hidden="true">14.6.</strong> Wrap-Up</a></li></ol></li><li class="chapter-item expanded "><a href="appendix/index.html"><strong aria-hidden="true">15.</strong> Appendix A Aggregates and Event Sourcing: A+ES</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="appendix/appendix_0.html"><strong aria-hidden="true">15.1.</strong> Inside an Application Service</a></li><li class="chapter-item expanded "><a href="appendix/appendix_1.html"><strong aria-hidden="true">15.2.</strong> Command Handlers</a></li><li class="chapter-item expanded "><a href="appendix/appendix_2.html"><strong aria-hidden="true">15.3.</strong> Lambda Syntax</a></li><li class="chapter-item expanded "><a href="appendix/appendix_3.html"><strong aria-hidden="true">15.4.</strong> Concurrency Control</a></li><li class="chapter-item expanded "><a href="appendix/appendix_4.html"><strong aria-hidden="true">15.5.</strong> Structural Freedom with A+ES</a></li><li class="chapter-item expanded "><a href="appendix/appendix_5.html"><strong aria-hidden="true">15.6.</strong> Performance</a></li><li class="chapter-item expanded "><a href="appendix/appendix_6.html"><strong aria-hidden="true">15.7.</strong> Implementing an Event Store</a></li><li class="chapter-item expanded "><a href="appendix/appendix_7.html"><strong aria-hidden="true">15.8.</strong> Relational Persistence</a></li><li class="chapter-item expanded "><a href="appendix/appendix_8.html"><strong aria-hidden="true">15.9.</strong> BLOB Persistence</a></li><li class="chapter-item expanded "><a href="appendix/appendix_9.html"><strong aria-hidden="true">15.10.</strong> Focused Aggregates</a></li><li class="chapter-item expanded "><a href="appendix/appendix_10.html"><strong aria-hidden="true">15.11.</strong> Read Model Projections</a></li><li class="chapter-item expanded "><a href="appendix/appendix_11.html"><strong aria-hidden="true">15.12.</strong> Use with Aggregate Design</a></li><li class="chapter-item expanded "><a href="appendix/appendix_12.html"><strong aria-hidden="true">15.13.</strong> Events Enrichment</a></li><li class="chapter-item expanded "><a href="appendix/appendix_13.html"><strong aria-hidden="true">15.14.</strong> Supporting Tools and Patterns</a></li><li class="chapter-item expanded "><a href="appendix/appendix_14.html"><strong aria-hidden="true">15.15.</strong> Contract Generation</a></li><li class="chapter-item expanded "><a href="appendix/appendix_15.html"><strong aria-hidden="true">15.16.</strong> Unit Testing and Specifications</a></li><li class="chapter-item expanded "><a href="appendix/appendix_16.html"><strong aria-hidden="true">15.17.</strong> Event Sourcing in Functional Languages</a></li></ol></li><li class="chapter-item expanded "><a href="Bibliography.html"><strong aria-hidden="true">16.</strong> Bibliography</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">实现领域驱动设计</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="getting-started-with-ddd"><a class="header" href="#getting-started-with-ddd"><a href="chapter_1/index.html#_bookmark0">Getting Started with DDD</a></a></h1>
<blockquote>
<p><em>Design is not just what it looks like and feels like.</em><br />
<em>Design is how it works.</em><br />
<em>—Steve Jobs</em></p>
</blockquote>
<blockquote>
<p>设计不仅限于外观和使用感受。<br />
设计的更重要体现是如何工作。<br />
——史蒂夫·乔布斯</p>
</blockquote>
<p>We strive to produce quality in the software we develop. We achieve some qual- ity by using tests to help us avoid delivering software with a fatal number of bugs. Yet, even if we could produce completely bug-free software, that in itself does not necessarily mean that a quality software model is designed. The soft- ware model—the <em>way</em> the software expresses the solution to the business goal being sought—could still suffer greatly. Delivering software with few defects is obviously good. Still, we can reach higher for a well-designed software model that explicitly reflects the intended business objective, and our work may even reach the level of <em>great</em>.</p>
<p>我们在努力开发高质量的软件。我们通过使用测试来避免交付带有大量致命bug的软件，从而在一定程度上提高了质量。然而，即使我们可以开发出完全没有bug的软件，这本身并不一定意味着设计出了高质量的软件模型。软件模型（软件通过何种方式体现解决业务目标的解决方案）依然可能存在很大问题。交付几乎没有缺陷的软件当然是好的，不过，我们还可以更进一步,设计能够明确体现预期业务目标的高质量软件模型,或许我们的工作成果甚至能达到卓越的水平。</p>
<blockquote>
<p>ps: 通过实现测试来提高软件质量仅是一个方面,更重要的是设计软件模型时能够正确表达和实现业务目标</p>
</blockquote>
<p>The software development approach called <em>Domain-Driven Design</em>, or <em>DDD</em>, exists to help us more readily succeed at achieving high-quality software model designs. When implemented correctly, DDD helps us reach the point where <em>our design is exactly how the software works</em>. This book is about help- ing you correctly implement DDD.</p>
<p>领域驱动设计是一种软件开发方法，它的存在是为了帮助我们更轻松地成功实现高质量的软件模型设计。当正确实施 DDD 时，它可以帮助我们达到这样的境地：我们的设计恰好反映了软件的运行方式。本书的目的就是帮助读者正确实现DDD。</p>
<p>You may be completely new to DDD, you may have tried it and struggled, or you may have already succeeded with it before. Regardless, you no doubt are reading this book because you want to improve your ability to implement DDD, and you can. The chapter road map helps you target your specific needs.</p>
<p>您可能是初学者，对DDD一无所知；您可能曾尝试过，但遇到困难；或者您可能已经成功实施过DDD。无论您属于哪种情况，您阅读这本书的目的无疑是为了提高实施DDD的能力，而本书确实可以帮你做到。章节路线图有助于您针对自己的特定需求进行学习。</p>
<p><strong>Road Map to This Chapter</strong></p>
<ul>
<li>Discover what DDD can do for your projects and your teams as you grapple with complexity.  <br>了解DDD如何帮助您应对项目和团队的复杂性。</li>
<li>Find out how to score your project to see if it deserves the DDD investment.
<br>了解如何评估项目是否值得进行DDD投入。</li>
<li>Consider the common alternatives to DDD and why they often lead to problems.
<br>了解DDD的常见替代方案，以及它们通常会导致的问题。</li>
<li>Grasp the foundations of DDD as you learn how to take the first steps on your project.
<br>掌握DDD的基础，学习如何在项目中迈出第一步。</li>
<li>Learn how to sell DDD to your management, domain experts, and technical team members. 
<br>了解如何向管理层、领域专家和技术团队成员推销DDD。</li>
<li>Face the challenges of using DDD armed with knowledge of how to succeed. 
<br>具备应对使用DDD时面临挑战的知识，从而从容应对。</li>
<li>Look in on a team that is learning how to implement DDD. 
<br>了解一个正在学习如何实施DDD的团队的情况。</li>
</ul>
<p>What should you expect from DDD? Not a heavy, dense, ceremonial process that blocks your way to progress. Rather, expect to use the agile development techniques you probably already have come to trust. Beyond agile, anticipate the acquisition of methods that help you gain deep insight into your business domain, with the prospect of producing testable, malleable, organized, care- fully crafted, high-quality software models.</p>
<p>您对DDD的期望是什么？它不是一个阻碍您前进的繁琐、密集的形式过程。相反，您可以期待使用您已经信任的敏捷开发技术。除了敏捷开发，您还将获得有助于深入了解业务领域的方法，并有望产生可测试、可塑、组织良好的、精心制作的、高质量的软件模型。</p>
<p>DDD gives you both the <em>strategic and tactical modeling tools</em> necessary to design high-quality software that meets core business objectives.</p>
<p>DDD为您提供了设计高质量软件的战略性和战术性建模工具,以满足核心业务目标。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="can-i-ddd"><a class="header" href="#can-i-ddd">Can I DDD</a></h1>
<p>You can implement DDD if you have</p>
<p>当满足下边这些条件时，你可以考虑实施DDD:</p>
<ul>
<li>A passion for creating excellent software every day, and the tenacity to achieve that goal<br />
每天都有开发卓越软件的热情,以及实现这一目标的坚韧</li>
<li>The eagerness to learn and improve, and the fortitude to admit you need to<br />
对学习和改进的热切渴望,以及承认自己需要进步的勇气与毅力</li>
<li>The aptitude to understand software patterns and how to properly apply them<br />
理解软件设计模式及如何正确应用它们的能力</li>
<li>The skill and patience to explore design alternatives using proven agile methods<br />
运用经过验证的敏捷方法去探索和设计备选方案的技能和耐心</li>
<li>The courage to challenge the status quo<br />
勇于挑战现状</li>
<li>The desire and ability to pay attention to details, to experiment and discover<br />
注意细节、勇于实践和探索的欲望和能力</li>
<li>A drive to seek ways to code smarter and better<br />
有寻求提升代码质量的动力</li>
</ul>
<p>I’m not going to tell you that there isn’t a learning curve. To put it bluntly, the learning curve can be steep. Yet, this book has been put together to help flatten the curve as much as possible. My goal is to help you and your team implement DDD with the greatest potential for success.</p>
<p>我不会告诉你领域驱动设计没有学习曲线。坦率地说，学习曲线可能会很陡峭。然而，这本书的编写旨在尽可能地降低学习曲线。我的目标是帮助你和你的团队在实施领域驱动设计时拥有最大的成功潜力。</p>
<p>DDD isn’t first and foremost about technology. In its most central principles, DDD is about discussion, listening, understanding, discovery, and business value, all in an effort to centralize knowledge. If you are capable of <em>understanding the business</em> in which your company works, you can at a minimum participate in the software model discovery process to produce a <strong>Ubiquitous Language</strong>. Sure, you’re going to have to learn more about the business, lots more. Still, you are on your way to succeeding with DDD already because you can comprehend the concepts of your business, you revel in developing great software, and that gives you the proper footing to take DDD all the way.</p>
<p>领域驱动设计首先并不是关于技术。在其最核心的原则中，领域驱动设计是关于讨论、倾听、理解、发现和业务价值，所有这些努力都是为了集中知识。如果你能够理解你的公司所在的业务，你至少可以参与软件模型发现过程，形成一种 <strong>&quot;通用语言&quot;（Ubiquitous Language）</strong> 。当然，你将不得不更多地了解业务，要了解很多。尽管如此，你已经走在成功实施领域驱动设计的道路上了，因为你能够理解你的业务概念，你乐于开发出色的软件，这为你全面采用领域驱动设计奠定了合适的基础。</p>
<p>Won’t having years, even a decade or two, of software development experience help? It might. Nevertheless, software development experience doesn’t give you the ability to listen and learn from <em>domain experts</em>, the people who know the most about some high-priority area of the business. You are at a greater advantage if you can engage with those who seldom, if ever, express themselves using technical lingo. You’re going to have to listen and listen carefully. You’re going to have to respect their viewpoint and trust that they know a lot more than you do.</p>
<p>拥有几年甚至十几年的软件开发经验会有所帮助吗？可能会有帮助。然而，软件开发经验并不能让你具备倾听和学习领域专家的能力，这些专家是对业务的某个高优先级领域了解最多的人。如果你能够与那些很少甚至从不使用技术术语表达自己的人进行交流，你就处于更大的优势。你将不得不倾听，而且要非常仔细地倾听。你需要尊重他们的观点，并相信他们比你知道更多</p>
<blockquote>
<p><strong>There Are Big Advantages to Engaging with Domain Experts</strong><br />
You are at a greater advantage if you can engage with those who seldom, if ever, express themselves using technical lingo. Just as you are going to learn from them, there is a high probability that they are also going to learn from you.</p>
</blockquote>
<blockquote>
<p><strong>与领域专家交流有很大的益处</strong><br />
如果你能够与那些很少或从不使用技术术语表达自己的人进行交流，你就处于更大的优势。正如你将从他们那里学到东西一样，他们很可能也会从你那里学到东西。</p>
</blockquote>
<p>What you may like best about DDD is that the domain experts are also going to <em>have to listen to you</em>. You are on the team just as they are. As strange as it may seem, the domain experts don’t know everything about their business, and they are also going to learn more about it. Just as you are going to learn from them, there is a high probability that they are also going to learn from you. Your questions about what they know will most likely also uncover what they don’t know. You’ll be directly involved in helping everyone on the team discover a deeper understanding of the business, <em>even shaping the business</em>.</p>
<p>你可能最喜欢领域驱动设计的地方在于，领域专家也将 <em>不得不倾听你的意见</em> 。你和他们一样都是团队的一部分。尽管看起来有点奇怪，领域专家并不了解他们业务的一切，他们也会学到更多。正如你将从他们那里学到东西一样，他们很可能也会从你这里学到东西。你对他们的提问很可能也会揭示他们不知道的事情。你将直接参与帮助团队中的每个人，使其对业务更加深入理解，甚至 <em>塑造业务</em> 。</p>
<p>It’s great when a team learns and grows together. If you give it a chance, DDD makes that possible.</p>
<p>当一个团队一起学习和成长时，那是非常棒的。如果你给它一个机会，领域驱动设计会让这成为可能。</p>
<blockquote>
<p><strong>But We Don’t <em>Have</em> Domain Experts</strong><br />
A domain expert is not one by job title. These are the people who know the line of business you are working in really well. They probably have a lot of background in the business domain, and they might be product designers or even your salespeople. Look past the job title. The people you are looking for know more about what you are working on than anyone else, and for sure way more than you know. <em>Find them. Listen. Learn. Design in code.</em></p>
</blockquote>
<blockquote>
<p><strong>我们 <em>没有</em> 领域专家</strong><br />
领域专家并不一定以职称来定义。他们是那些非常了解你所从事的业务的人。他们可能在业务领域有很多背景，他们可能是产品设计师，甚至是你们的销售人员。不要只看职称，你要找的人对你正在从事的工作了解得比其他任何人都要多，肯定比你知道的更多。找到他们：倾听、学习、用代码进行设计。</p>
</blockquote>
<p>So far we’re off to a pretty reassuring start. Still, I am also not going to tell you that technical ability isn’t important, that somehow you can get by without it. You will have to grasp some advanced software <em>domain modeling</em> concepts. Even so, it doesn’t necessarily mean you are going to be in over your head. If you have abilities somewhere between grasping <em>Head First Design Patterns</em> [Freeman et al.] and grokking the original <em>Design Patterns</em> [Gamma et al.] text, or even more advanced patterns, you stand a really good chance of succeeding with DDD. You can bank on this: I’m going to do everything I can to make that happen by lowering the bar, no matter what your level of experience.</p>
<p>到目前为止，我们的开局相当令人放心。但是，我也不会告诉你技术能力不重要，或者你可以不依靠技术能力。你将不得不掌握一些高级软件领域建模的概念。即便如此，并不一定意味着你会一头雾水。如果你的能力介于掌握《Head First Design Patterns》[Freeman et al.]和理解原始的《Design Patterns》[Gamma et al.]，或者甚至更高级的模式之间，你成功实施领域驱动设计的机会就非常大。你可以信赖我：我会尽我所能降低门槛，让这一切发生，无论你的经验水平如何。</p>
<blockquote>
<p><strong>What’s a Domain Model?</strong><br />
It’s a software model of the very specific business domain you are working in. Often it’s implemented as an object model, where those objects have both data and behavior with literal and accurate business meaning.<br />
Creating a unique, carefully crafted domain model at the heart of a core, strategic application or subsystem is essential to practicing DDD. With DDD your domain models will tend to be smallish, very focused. Using DDD, you never try to model the whole business enterprise with a single, large domain model. Phew, that’s good!</p>
</blockquote>
<blockquote>
<p><strong>什么是领域模型?</strong><br />
一个领域模型是指你正在从事的非常具体的业务领域的软件模型。通常它被实现为一个对象模型，其中这些对象是具有文字描述和准确业务含义的数据和行为。 在核心、战略应用程序或子系统的核心创建一个独特、精心设计的领域模型对于实践领域驱动设计至关重要。在领域驱动设计中，你的领域模型往往会比较小，非常专注。使用领域驱动设计，你永远不会试图用单个大型领域模型来对整个企业进行建模。</p>
</blockquote>
<p>Consider the following perspectives of the people who can benefit from DDD. I know you fit in here somewhere:</p>
<p>思考下边这些人（从DDD中收益）的观点。你肯定适合其中的某些：</p>
<ul>
<li>
<p><strong><em>Newbie, junior developer</em>:</strong> “I’m young, with fresh ideas, I’ve got pentup energy to code, and I’m going to have an impact. What’s got me miffed is one of the projects I sprint on. I didn’t expect that my first gig off campus would mean shoveling data back and forth using lots of almost identical yet redundant ‘objects.’ Why is this architecture so complex if that’s all that’s happening? What’s up with <em>that</em>? The code breaks a lot when I try to change it. Does anyone actually understand what it’s supposed to do? Now there are some complex new features I have to add. I regularly slap an <em>adapter</em> around legacy classes to shield me from the goo. <em>No joy</em>. I’m sure there’s something I can do besides code and debug all day and night just to finish iterations. Whatever that is, I’m going to track it down and own it. I heard some of the others talking about DDD. <em>It sounds like Gang of Four, but tuned for the domain model.</em> Nice.”</p>
<p><strong>初级开发人员：</strong><br />
我年轻，有新鲜的想法，我有充沛的精力去编程，我要产生影响。让我感到困惑的是我参与的一个项目：我没有预料到我校外的第一个工作会是来回传输大量几乎相同且冗余的‘对象’。如果只是这样的话，为什么这个架构如此复杂？这到底是怎么回事？当我试图更改代码时，代码经常会出现问题。有人真的理解它应该做什么吗？当有一些复杂的新功能我需要添加时，我经常在旧的类周围加一个适配器，以保护自己免受混乱的影响。这让我提不起兴趣，我确定除了整天整夜地编码和调试以完成迭代之外，还有其他事情我可以去做。不管那是什么，我都会找到并掌握它。当我听到其他人谈论领域驱动设计时，听起来像是《设计模式》一样，但是针对领域模型进行了调整，听起来很不错。</p>
<p>Gotcha covered.</p>
</li>
<li>
<p><strong><em>Midlevel developer</em> :</strong> “Over the past few months I’ve been included on the new system. It’s my turn to make a difference. I get it, but what I’m missing are profound insights when I’m meeting with the senior developers. Sometimes things seem whacked, but I’m not sure why. I’m going to help change the way things are done around here. I know that throwing technology at a problem only takes you so far, and that’s basically not far enough. What I need is <em>a sound software development technique</em> that’s going to help me become a wise and experienced software practitioner. One of the senior architects, the new guy, made a pitch for something called DDD. I’m listening.”</p>
<p><strong>中级开发人员：</strong><br />
在过去几个月里，我进入了一个新的团队。现在轮到我做出改变了。我明白了，但我缺少的是在与高级开发人员沟通时的深刻见解。有时事情看起来有点混乱，但我不确定原因，我要帮助这里改变工作方式。我知道仅仅通过技术解决问题是远远不够的。我需要的是一种 <strong>可靠的软件开发技术</strong> ，它将帮助我成为一名睿智且经验丰富的软件从业者。新来了一位资深架构师，正在为一种叫做DDD的东西进行宣传。我在听着。</p>
<p>You’re sounding senior already. Read on. Your forward-thinking attitude will be rewarded.</p>
<p>你听起来已经很资深了。继续读下去，你的前瞻性思维会得到提升。</p>
</li>
<li>
<p><strong><em>Senior developer, architect</em> :</strong> “I’ve used DDD on a few projects, but not since landing this new position. I like the power of the <em>tactical patterns</em>, but there’s a lot more I could apply, with <em>strategic design</em> being one. What I found most insightful when reading [Evans] was the Ubiquitous Language. <em>That’s powerful stuff</em>. I’ve had discussions with a number of my teammates and management, trying to influence DDD’s adoption here. One of the new kids and a few of the midlevel and senior members are jazzed about the prospects. Management isn’t so excited. I recently joined this company, and although I was brought in to lead, it seems that the organization is less interested in disruptive advancements than I thought. Whatever. I’m not giving up. With other developers psyched about it, <em>I know we can make it happen</em>. The payoffs are going to be much greater than anticipated. We’ll draw the pure business people—the domain experts—closer to our technical teams, and <em>we’ll actually invest in our solutions</em>, not just grunt them out iteration after iteration.”</p>
<p><strong>高级开发者，架构师：</strong><br />
“我在一些项目上使用过DDD，但自从来到这个新职位以后就没有用过。我喜欢战术设计模式的强大功能，但我可以应用的还有很多，战略设计模式就是其中之一。当我阅读[Evans]的时候，我发现最有见地的是 <strong>通用语言（Ubiquitous Language）</strong> 。那是非常有力的东西,我与许多团队成员和管理层进行了讨论，试图影响公司采用DDD。一些新人和一些中级和资深开发者对前景感到兴奋。管理层并不那么激动。我最近加入了这家公司，尽管是我主导项目开发，但似乎组织对颠覆性进步的兴趣不如我想象的那么大。不管怎样，我不会放弃。有其他开发人员对此感到兴奋，我知道我们可以做到。回报将会比预期的要大得多。我们将吸引纯粹的业务人员——领域专家——靠近我们的技术团队，我们将<em>真正投入于我们的解决方案</em>，而不仅仅是一次次地完成它们。”</p>
<p>Now <em>that’s</em> what a leader does. This book has lots of guidance that shows how to succeed with <em>strategic design</em>.</p>
<p>这就是领导者该做的。这本书有很多关于如何通过“战略设计”获得成功的指导。</p>
</li>
<li>
<p><strong><em>Domain expert</em> :</strong> “I’ve been involved in specifying the IT solutions to our business challenges for a long time now. Maybe it’s too much to expect, but I wish the developers understood better what we do here. They’re always talking down to us like we’re stupid. What they don’t understand is, if it wasn’t for us there wouldn’t be jobs here for them to mess around with computers. The developers always have some strange way of talking about what our software does. If we talk about A, they say it’s really called B. <em>It’s like we have to have some sort of dictionary and road map on hand every time we try to communicate what we need</em>. If we don’t let them have their way by calling B what we know is A, they don’t cooperate. We waste so much time in this mode. <em>Why can’t the software just work the way the real experts think about the business?</em>”</p>
<p><strong>领域专家：</strong><br />
很长一段时间以来，我一直在为我们的业务挑战指定IT解决方案。也许期望过高了，但我希望开发人员能更好地理解我们在这里做些什么。他们总是对我们说话时态度高傲，好像我们很愚蠢。他们不明白的是，如果不是我们，这里就不会有工作让他们去玩弄电脑。开发人员总是以一种奇怪的方式谈论我们的软件。如果我们谈论A，他们说实际上应该叫B。好像我们每次尝试传达我们的需求时都必须随身携带某种字典和路线图。如果我们不按照他们的方式称呼B，而坚持认为它是A，他们就不合作。我们在这种模式下浪费了很多时间。为什么软件不能按照真正的专家对业务的想法来工作呢？</p>
<p>You’ve got that right. One of the biggest problems is the false need for translation between business people and techies. This chapter is for you. As you’re going to see, <em>DDD puts you and developers on level ground</em>.</p>
<p>这一点说得对。最大的问题之一是业务人员和技术人员之间虚假的翻译需求。这一章是为您而设的。正如您将会看到的，领域驱动设计将您和开发人员置于同一水平。</p>
<p>And, surprise! You’ve got some developers already leaning your way. Help them here.<br />
看来您已经有一些开发人员倾向于支持您的方向。在这方面给他们提供帮助。</p>
</li>
<li>
<p><strong><em>Manager</em> :</strong> “We are shipping software. It’s not always with the greatest result, and changes seem to take longer than they should. The developers keep talking about some domain something-or-another. I’m not sure we need to get high centered on yet another technique or methodology, like it’s some kind of silver bullet. I’ve heard all that a thousand times before. We try, the fad dies, and we are right back to the same-old same-old. I keep saying that we need to stay the course and stop dreaming, but the team keeps hounding me. They’ve worked hard, so I owe them a listen. <em>They are smart people and they all deserve a chance to improve things</em> before they get torqued and move on. I could allow them some time to learn and adjust if I can get backing from upper management. I think I could get that approval if I can convince my boss of the team’s claims of <em>achieving critical software investment and a centralization of business knowledge</em> . Truth is, it will make my job easier if <em>I can do something to inspire trust and cooperation between my teams and business experts</em>. Anyway, that’s what I am hearing I can do.”</p>
<p><strong>管理者：</strong><br />
&quot;我们正在交付软件。结果并不总是很好,修改似乎也花费了比预期长得多的时间。开发人员一直在讨论一些领域怎么怎么设计。我不确定我们是否需要高度集中注意力在又一个技术或方法论上,就像它是某种灵丹妙药一样。我以前听过成千上万次类似的话。我们尝试了,热门技术过去了,我们又回到了原来的状态。我一直在说,我们需要坚持原来的工作,停止患得患失,但团队一直在催我。他们工作很努力,所以我必须听他们说明情况。<em>他们都是聪明人，在他们离职之前，他们都应该得到改进事情的机会</em>。如果我能获得上级管理层的支持,我也许可以给他们一些时间去学习和调整。我认为如果我能向老板解释团队声称可以<em>实现关键软件投资和将业务知识集中起来</em>,他可能会同意。实际上,如果我<em>能做些什么来促进团队与业务专家之间的信任与合作</em>,也将更方便我的工作。总之,这就是我听说可以做的事情。&quot;</p>
<p>Good manager!</p>
</li>
</ul>
<p>Whoever you are, here’s an important heads-up. To succeed with DDD <em>you are going to have to learn something</em>, and actually a lot of somethings. That shouldn’t be a big deal, though. You are smart and you have to learn all the time. Yet we all face this challenge:</p>
<p>对于领域驱动设计要成功，你将不得不学习一些东西，实际上是很多东西。这应该不是一个大问题，因为你很聪明，而且你一直在学习。然而，我们都面临这个挑战：</p>
<p>Personally I’m always ready to learn, although I do not always like being taught.<br />
我个人总是乐意学习,尽管不是总喜欢受教。<br />
     — Sir Winston Churchill</p>
<p>That’s where this book comes in. I’ve tried to make the teaching as pleasant as possible while delivering the vital understanding you need to implement DDD with success.</p>
<p>这就是这本书的作用所在。我尽量让教学过程尽可能愉快，同时传授你实施DDD (领域驱动设计) 所需的重要理解，以获得成功。</p>
<p>Your question, though, is: “Why should I do DDD?” That’s fair.</p>
<p>你的问题是：“我为什么要实施领域驱动设计呢？”这是个合理的问题。</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="why-you-should-do-ddd"><a class="header" href="#why-you-should-do-ddd">Why You Should Do DDD</a></h1>
<p>Actually, I’ve already given you some pretty good reasons why DDD makes so much practical sense. At the risk of breaking the DRY principle (“Don’t repeat yourself”), I reiterate them here and also add to the earlier reasons. Does any- one hear an echo?</p>
<ul>
<li>Put domain experts and developers on a level playing field, which pro- duces software that makes perfect sense to the business, not just the cod- ers. This doesn’t mean merely tolerating the opposite group. It means becoming one cohesive, tight-knit team.</li>
<li>That “makes sense to the business” thing means investing in the business by making software that is as close as possible to what the business lead- ers and experts would create if they were the coders.</li>
<li>You can actually teach the business more about itself. No domain expert, no C-level manager, no one, ever knows every single thing about the busi- ness. It’s a constant discovery process that becomes more insightful over time. With DDD, everybody learns because everybody contributes to dis- covery discussions.</li>
<li>Centralizing knowledge is key, because with that the business is capable of ensuring that understanding the software is not locked in “tribal knowl- edge,” available only to a select few, who are usually only the developers.</li>
<li>There are zero translations between the domain experts, the software developers, and the software. That doesn’t mean maybe some few transla- tions. It means zero translations because your team develops a common, shared language that everyone on the team speaks.</li>
<li>The design is the code, and the code is the design. The design is how it works. Knowing the best code design comes through quick experimental models using an agile discovery process.</li>
<li>DDD provides sound software development techniques that address both strategic and tactical design. Strategic design helps us understand what are the most important software investments to make, what existing soft- ware assets to leverage in order to get there fastest and safest, and who must be involved. Tactical design helps us craft the single elegant model of a solution using time-tested, proven software building blocks.</li>
</ul>
<p>Like any good, high-yielding investment, DDD has some up-front cost of time and effort for the team. Considering the typical challenges encountered by every software development effort will reinforce the need to invest in a sound software development approach.</p>
<h2 id="delivering-business-value-can-be-elusive"><a class="header" href="#delivering-business-value-can-be-elusive">Delivering Business Value Can Be Elusive</a></h2>
<p>Developing software that delivers true business value is not the same thing as developing ordinary business software. Software that delivers true business value aligns with the business strategic initiatives and bears solutions with clearly identifiable competitive advantage—software that is not about technol- ogy, but about the business.</p>
<p>Business knowledge is never centralized. Development teams have to bal- ance and prioritize among the needs and requests of multiple stakeholders and engage with many people having diverse skill sets, all with the goal of uncov- ering software functional and nonfunctional requirements. After gathering all that information, how can teams be certain that any given requirement delivers true business value? In fact, what are the business values being sought, and how do you uncover them, prioritize them, and realize them?</p>
<p>One of the worst disconnects of a business software development effort is seen in the gap between domain experts and software developers. Generally speaking, true domain experts are focused on delivering business value. On the other hand, software developers are typically drawn to technology and technical solutions to business problems. It’s not that software developers have wrong motivations; it’s just what tends to grab their attention. Even when soft- ware developers engage with domain experts, the collaboration is largely at a surface level, and the software that gets developed often results in a trans- lation/mapping between how the business thinks and operates and how the software developer interprets that. The resulting software generally does not reflect a recognizable realization of the mental model of the domain experts, or perhaps it does so only partially. Over time this disconnect becomes costly. The translation of domain knowledge into software is lost as developers transi- tion to other projects or leave the company.</p>
<p>A different, yet related problem is when one or more domain experts do</p>
<p>not agree with each other. This tends to happen because each expert has more or less experience in the specific domain being modeled, or they are simply experts in related but different areas. It’s also common for multiple “domain experts” to have no expertise in a given domain, where they are more of a busi- ness analyst, yet they are expected to bring insightful direction to discussions. When this situation goes unchecked, it results in blurred rather than crisp men- tal models, which lead to conflicting software models.</p>
<p>Worse still is when the technical approach to software development actually wrongly changes the way the business functions. While a different scenario, it is well known that enterprise resource planning (ERP) software will often change the overall business operations of an organization to fit the way the ERP functions. The total cost of owning the ERP cannot be fully calculated in terms of license and maintenance fees. The reorganization and disruption to the business can be far more costly than either of those two tangible fac- tors. A similar dynamic is at play as your software development teams inter- pret what the business needs into what the newly developed software actually does. This can be both costly and disruptive to the business, its customers, and its partners. Furthermore, this technical interpretation is both unnecessary and avoidable with the use of proven software development techniques. The solu- tion is a key investment. </p>
<h2 id="how-ddd-helps"><a class="header" href="#how-ddd-helps">How DDD Helps</a></h2>
<p>DDD is an approach to developing software that focuses on these three pri- mary aspects:</p>
<ol>
<li>
<p>DDD brings domain experts and software developers together in order to develop software that reflects the mental model of the business experts. This does not mean that effort is spent on modeling the “real world.” Rather, DDD delivers a model that is the most useful to the business. Sometimes useful and realistic models happen to intersect, but to the degree that they diverge, DDD chooses useful.</p>
<p>With this aspect the efforts of domain experts and software developers are devoted to jointly developing a Ubiquitous Language of the areas of the business that they are focused on modeling. The Ubiquitous Language is developed with full team agreement, is spoken, and is directly captured in the model of the software. It is worth reiterating that the team is com- posed of both domain experts and software developers. It’s never “us and them.” It’s always *us. *This is a key business value that allows business know-how to outlive the relatively short initial development efforts that deliver the first few versions of the software, and the teams that produce it. It’s the point where the cost of developing software is a justifiable busi- ness investment, not just a cost center.</p>
<p>This entire effort unifies domain experts who initially disagree with each other, or who simply lack core knowledge of the domain. Further, it strengthens the close-knit team by spreading deep domain insight among all team members, including software developers. Consider this the hands-on training that every company should invest in its knowledge workers.</p>
</li>
<li>
<p>DDD addresses the strategic initiatives of the business. While this stra- tegic design approach naturally includes technical analysis, it is more concerned with the strategic direction of the business. It helps define the best inter-team organizational relationships and provides early-warning systems for recognizing when a given relationship could cause software and even project failure. The technical aspects of strategic design have the goal of cleanly bounding systems and business concerns, which pro- tects each <em>business-level service</em>. This provides meaningful motivations for how an overall *service-oriented architecture *or *business-driven archi- tecture *is achieved.</p>
</li>
<li>
<p>DDD meets the real technical demands of the software by using tacti- cal design modeling tools to analyze and develop the executable software deliverables. These tactical design tools allow developers to produce soft- ware that is a correct codification of the domain experts’ mental model, is highly testable, is less error prone (a provable statement), performs to service-level agreements (SLAs), is scalable, and allows for distrib- uted computing. DDD best practices generally address a dozen or more higher-level architectural and lower-level software design concerns, with a focus on recognizing true business rules and data invariants, and pro- tecting the rules from error situations.</p>
</li>
</ol>
<p>Using this approach to software development, you and your team can succeed in delivering true business value.</p>
<h2 id="grappling-with-the-complexity-of-your-domain"><a class="header" href="#grappling-with-the-complexity-of-your-domain">Grappling with the Complexity of Your Domain</a></h2>
<p>We primarily want to use DDD in the areas that are most important to the business. You don’t invest in what can be easily replaced. <em>You invest in the nontrivial, the more complex stuff, the most valuable and important stuff that promises to return the greatest dividends.</em> That’s why we call such a model a <strong>Core Domain (2)</strong>. It is these, and in second priority the <em>significant</em> <strong>Supporting Subdomains (2)</strong>, that deserve and get the biggest investment. Rightly, then, we need to grasp what <em>complex</em> means.</p>
<blockquote>
<p><strong>Use DDD to Simplify, Not to Complicate</strong><br />
Use DDD to model a complex domain in the simplest possible way. Never use DDD to make your solution more complex.</p>
</blockquote>
<p>What qualifies as complex will differ from business to business. Different companies have different challenges, different levels of maturity, and different software development capabilities. So rather than determining what is <em>com- plex</em>, it may be easier to determine what is <em>nontrivial</em>. Thus, <em>your team and management will have to determine if a system you are planning to work on deserves the cost of making a DDD investment.</em></p>
<p><strong>DDD Scorecard:</strong> Use Table 1.1 to determine whether your project qualifies for an investment in DDD. If a row on the scorecard describes your project, place the corresponding number of points in the right-hand column. Tally all the points for your project. If it’s 7 or higher, seriously consider using DDD.</p>
<p><strong>Table 1.1</strong> The DDD Scorecard</p>
<p><strong><em>Does Your Project Score a Total of 7 Points or Higher?</em></strong></p>
<div class="table-wrapper"><table><thead><tr><th>If Your Project . . .</th><th>Points</th><th>Supporting Thoughts</th><th>Your Score</th></tr></thead><tbody>
<tr><td>If your application is completely data-centric and truly qualifies for a pure CRUD solution, where every operation is basically a simple database query to Create, Read, Update, or Delete, you don’t need DDD. Your team just needs to put a pretty face ona database table editor. In other words, if you can trust your users to insert data directly into a table, update it, and some- times delete it, you wouldn’t even need a user interface. That’s not realistic, but it’s conceptually relevant. If you could even use a simple database development tool to create a solution, don’t waste your company’s time and money on DDD.</td><td>0</td><td>This seems like a no-brainer, but it’s not usually that easy to determine simple versus complex. It’s not as if every application that isn’t pure CRUD deserves the time and effort of using DDD. So maybe we could come up with other metrics to help us draw a line between what is complex and what is not . . .</td><td></td></tr>
<tr><td>If your system requires just 30 or fewer business operations, it’s probably pretty simple. This would mean that your applica- tion would have no more than 30 total user stories or use case flows, with each of those flows having only minimal business logic. If you could quickly and easily develop such an applica- tion using Ruby on Rails or Groovy and Grails and not feel the pain of lacking power and control over complexity and change, your system probably doesn’t need to use DDD.</td><td>1</td><td>To be clear, I am talking about 25 to 30 single busi- ness methods, not 25 to 30 whole service interfaces, each with multiple methods. The latter might be complex.</td><td></td></tr>
<tr><td>So let’s say that somewhere in the range of 30 to 40 user stories or use case flows could be creeping toward complexity. Your system might be getting into DDD territory.</td><td>2</td><td><em>Caveat emptor</em>: Very often complexity is not rec- ognized soon enough. *We software developers are really, really good at underestimating complexity and level of effort. *Just because we might want to code up a Rails or Grails application doesn’t mean we should. In the long run those could hurt more than help.</td><td></td></tr>
<tr><td>Even if the application is not going to be complex now, will it grow in complexity? You may not know this for sure until real users start working with it, but there is a step in the “Sup- porting Thoughts” column that may help uncover the true situation.<br/><br/>Be careful here. If there is any hint at all that the application has even moderate complexity—here’s a good time to be para- noid—that may be sufficient indication that it will actually be more than moderately complex. Lean toward DDD.</td><td>3</td><td>Here it pays off to walk through the more complex usage scenarios with domain experts and see where it leads. Are domain experts . . .<br/>1. already asking for more complex features?If so, it’s likely an indication that the application is already or will soon become too complex to use a CRUD approach.<br/>2. so bored with the features that they can hardly bear discussing them? It’s probably not complex.</td><td></td></tr>
<tr><td>The application’s features are going to change often over a number of years, and you can’t anticipate that the kinds of changes will be simple.</td><td>4</td><td>DDD can help you manage the complexity of refactoring your model over time.</td><td></td></tr>
<tr><td>You don’t understand the <strong>Domain (2)</strong> because it’s new. As far as you and your team know, nobody has done this before. That most likely means it’s complex, or at least deserves due diligence with analytical scrutiny to determine the level of complexity.</td><td>5</td><td>You are going to need to work with domain experts and experiment with models to get it right. You certainly also scored on one or more of the previous criteria, so use DDD</td><td></td></tr>
</tbody></table>
</div>
<pre><code>This scoring exercise may have led your team to these conclusions:

It’s too bad that we can’t shift gears quickly and easily when we discover we are on the wrong side of complexity, no matter if the wrong side is more or less complex than we thought.

Sure, but that just means that we need to become much better at determining simplicity versus complexity early on in our project planning. That would save us a lot of time, expense, and trouble.

Once we make a major architectural decision and get several use cases deep in development, we are usually stuck with it. We had better choose wisely.
</code></pre>
<p>If any of these observations resonates with your team, you are making good use of critical thought.</p>
<h2 id="anemia-and-memory-loss"><a class="header" href="#anemia-and-memory-loss">Anemia and Memory Loss</a></h2>
<p>Anemia can be a serious health ailment with dangerous side effects. When the name __Anemic Domain Model __[Fowler, Anemic] was first coined, <em>it wasn’t meant to be a complimentary term</em>, as if to say that a domain model that is weak, without the power of inherent behavioral qualities, could possibly be a good thing. Strangely enough, Anemic Domain Models have popped up left and right in our industry. The trouble is that most developers seem to think this is quite normal and would not even acknowledge that a serious condition exists when employed in their systems. It’s a real problem.</p>
<p>Are you wondering if your model is feeling tired, listless, forgetful, clumsy, needing a good shot in the arm? If you’re suddenly experiencing technical hypochondria, here’s a good way to perform a self-examination. You’ll either put yourself at ease or confirm your worst fears. Use the steps in Table 1.2 to perform your checkup.</p>
<p><strong>Table 1.2</strong> Determine Your Domain Model Health History</p>
<div class="table-wrapper"><table><thead><tr><th></th><th>Yes/No</th></tr></thead><tbody>
<tr><td>Does the software you call a “domain model” have mostly public getters and setters, and no business logic or almost none at all—you know, objects that are mostly attri- bute value holders?</td><td></td></tr>
<tr><td>Are the software components that frequently use your “domain model” the ones that house most of the business logic of your system, and do those heavily invoke the public getters and setters on the “domain model”? You probably call this particular client layer of the “domain model” a <strong>Service Layer</strong> or <strong>Application Layer (4, 14)</strong>. If instead this describes your user interface, answer “Yes” to this question and write a thousand times on a whiteboard that you’ll never, ever do that again.</td><td></td></tr>
<tr><td><strong>Hint: The correct answers are either “Yes” to both questions or “No” to both questions.</strong></td><td></td></tr>
</tbody></table>
</div><br>
<pre><code>How did you do?

If you answered “No” to both questions, your domain is doing well.

If you answered “Yes” to both questions, your “domain model” is very, very ill. It’s anemic. The good news is that you can get help for it by reading on.

If you answered “Yes” to one question and “No” to the other question, you are either in denial or suffering from delusions or another neurological issue that could be caused by anemia. What should you do if you have conflicting answers? Go straight back to the first question and run the selfexamination once again. Take your time, but remember that your answer to both questions must be an emphatic “Yes!”
</code></pre>
<p>As [Fowler, Anemic] says, an Anemic Domain Model is a bad thing because you pay most of the high cost of developing a domain model, but you get little or none of the benefit. For example, because of the object-relational impedance mismatch, developers of such a “domain model” spend a lot of time and effort mapping objects to and from the persistence store. That’s a high price to pay while getting little or no benefit in return. I’ll add that what you have is not a domain model at all, but just a data model projected from a relational model (or other database) into objects. It’s an impostor that may actually be closer to the definition of __Active Record __[Fowler, P of EAA]. You can probably simplify your architecture by not being pretentious and just admit that you are really using a form of __Transaction Script __[Fowler, P of EAA].</p>
<p><strong>Reasons Why Anemia Happens</strong></p>
<p>So if an Anemic Domain Model is the sickly outcome of a poorly executed design effort, why do so many use it while thinking that their model is experi- encing fine health? Certainly it does reflect a procedural programming mental- ity, but I don’t think that’s the primary reason. A good portion of our industry is made up of sample code followers, which isn’t bad as long as the samples are quality ones. Often, however, sample code is purposely focused on demon- strating some concept or application programming interface (API) feature in the simplest possible way, without concern for good design principles. Yet oversimplified sample code, which usually demonstrates with a lot of getters and setters, is copied every day without a second thought about design.</p>
<p>There is another, older influence. The ancient history of Microsoft’s Visual Basic had much to do with where we are today. I’m not saying that Visual Basic was a bad language and integrated development environment (IDE), because it’s always been a highly productive environment and in some ways influenced the industry for the good. Of course, some may have avoided its direct influ- ence altogether, but Visual Basic indirectly caught up with just about every software developer eventually. Just note the timeline shown in Table 1.3.</p>
<p><strong>Table 1.3</strong> The Timeline from Behavior Rich to Infamous Anemia</p>
<div class="table-wrapper"><table><thead><tr><th>1980s</th><th>1991</th><th>1992-1995</th><th>1996</th><th>1997</th><th>1998-</th></tr></thead><tbody>
<tr><td>Objects make an impact due to Smalltalk and C++</td><td>Visual Basic properties and property sheets</td><td>Visual tools and IDEs become prolific</td><td>Java JDK 1.0 released</td><td>JavaBean specification</td><td>Explosion of reflection-based tools for Java and .NET platforms based on properties</td></tr>
</tbody></table>
</div>
<p>What I am talking about is the influence of properties and property sheets, both backed by property getters and setters that were made so popular by the original Visual Basic forms designer. All you had to do was place a few custom control instances on a form, fill out their property sheets, and <em>voilà!</em> You had a fully functioning Windows application. It took just a few minutes to do that compared to the few days required to program a similar application directly against the Windows API using C.</p>
<p>So what does all that have to do with Anemic Domain Models? <em>The Java- Bean standard was originally specified to assist in the creation of visual pro- gramming tools for Java</em>. Its motivation was to bring the Microsoft ActiveX capabilities to the Java platform. It offered the hope of creating a market full of third-party custom controls of various kinds, just like Visual Basic’s. Soon almost every framework and library jumped on the JavaBean bandwagon. This included  much  of  the  Java  SDK/JDK  as  well  as  libraries  such  as  the  popular Hibernate. Specific to our DDD concerns, <em>Hibernate was introduced to persist domain models.</em> The trend continued as the .NET platform reached us.</p>
<p>Interestingly, any domain model that was persisted using Hibernate in the early days had to expose public getters and setters for every persistent sim- ple attribute and complex association in every domain object. This meant that even if you wanted to design your POJO (Plain Old Java Object) with a behav- ior-rich interface, you had to expose your internals publicly so that Hibernate could persist and reconstitute your domain objects. Sure, you could do things to hide the public JavaBean interface, but by and large most developers didn’t bother or even understand why they should have.</p>
<blockquote>
<p><strong>Should I Be Concerned about Using Object-Relational Mappers with DDD?</strong><br />
The preceding critique of Hibernate is from a historical perspective. For quite a while now Hibernate has supported the use of hidden getters and setters, and even direct field access. I demonstrate in later chapters how to avoid anemia in your mod- els when using Hibernate and other persistence mechanisms. So, don’t sweat it.</p>
</blockquote>
<p>Most, if not all, of the Web frameworks also function solely on the JavaBean standard. If you want your Java objects to be able to populate your Web pages, the Java objects had better support the JavaBean specification. If you want your HTML forms to populate a Java object when submitted to the server side, your Java form object had better support the JavaBean specification.</p>
<p>Just about every framework on the market today requires, and therefore promotes, the use of public properties on simple objects. Most developers can’t help but be influenced by all the anemic classes all over their enterprises. Admit it. You’ve been bitten by it, haven’t you? As a result, we have a situation that might be best labeled <em>anemia everywhere</em>.</p>
<h2 id="look-at-what-anemia-does-to-your-model"><a class="header" href="#look-at-what-anemia-does-to-your-model">Look at What Anemia Does to Your Model</a></h2>
<p>All right, so let’s say we can agree that this is both true and vexing to us. What does <em>anemia everywhere</em> have to do with <em>memory loss</em> ? When you are reading through the client code of an Anemic Domain Model (for example, the impos- tor <strong>Application Service (4, 14)</strong>, à la Transaction Script), what do we usually see? Here’s a rudimentary example:</p>
<pre><code class="language-java">    @Transactional
    public void saveCustomer(
            String customerId,
            String customerFirstName, String customerLastName,
            String streetAddress1, String streetAddress2,
            String city, String stateOrProvince,
            String postalCode, String country,
            String homePhone, String mobilePhone,
            String primaryEmailAddress, String secondaryEmailAddress) {
        Customer customer = customerDao.readCustomer(customerId);
        if (customer == null) {
            customer = new Customer();
            customer.setCustomerId(customerId);
        }
        customer.setCustomerFirstName(customerFirstName);
        customer.setCustomerLastName(customerLastName);
        customer.setStreetAddress1(streetAddress1);
        customer.setStreetAddress2(streetAddress2);
        customer.setCity(city);
        customer.setStateOrProvince(stateOrProvince);
        customer.setPostalCode(postalCode);
        customer.setCountry(country);
        customer.setHomePhone(homePhone);
        customer.setMobilePhone(mobilePhone);
        customer.setPrimaryEmailAddress(primaryEmailAddress);
        customer.setSecondaryEmailAddress (secondaryEmailAddress);
        customerDao.saveCustomer(customer);
    }
</code></pre>
<blockquote>
<p><strong>Example Purposely Kept Simple</strong><br />
Admittedly, this example is not from a very interesting domain, but it does help us examine a less-than-ideal design and determine how we can refactor it to a much better one. Let’s be clear that this exercise is not leading us to a cooler way to save data. It’s about crafting a software model that adds value to your business, even though this example may not seem valuable.</p>
</blockquote>
<p>What did this code just do? Actually it’s pretty versatile code. It saves a Customer no matter whether it is new or preexisting. It saves a Customer no matter whether the last name changed or the person moved to a new home. It saves a Customer no matter whether the person got a new home phone number or discontinued home phone service, or whether he or she got a mobile phone for the first time, or both. It even saves a Customer who switched from using Juno to using Gmail instead, or who changed jobs and now has a new work e-mail address. Wow, this is an awesome method!</p>
<p>Or is it? Actually, we have no idea under what business situations this saveCustomer() method is used—not exactly, anyway. Why was this method created in the first place? Does anyone remember its original intent, and all the motivations for changing it to support a wide variety of business goals? Those memories were quite likely lost only a few weeks or months after the method was created and then modified. And it gets even worse. You don’t believe me? Look at the next version of this same method:</p>
<pre><code class="language-java">    @Transactional
    public void saveCustomer(
            String customerId,
            String customerFirstName, String customerLastName,
            String streetAddress1, String streetAddress2,
            String city, String stateOrProvince,
            String postalCode, String country,
            String homePhone, String mobilePhone,
            String primaryEmailAddress, String secondaryEmailAddress) {
        Customer customer = customerDao.readCustomer(customerId);
        if (customer == null) {
            customer = new Customer();
            customer.setCustomerId(customerId);
        }
        if (customerFirstName != null) {
            customer.setCustomerFirstName(customerFirstName);
        }
        if (customerLastName != null) {
            customer.setCustomerLastName(customerLastName);
        }
        if (streetAddress1 != null) {
            customer.setStreetAddress1(streetAddress1);
        }
        if (streetAddress2 != null) {
            customer.setStreetAddress2(streetAddress2);
        }
        if (city != null) {
            customer.setCity(city);
        }
        if (stateOrProvince != null) {
            customer.setStateOrProvince(stateOrProvince);
        }
        if (postalCode != null) {
            customer.setPostalCode(postalCode);
        }
        if (country != null) {
            customer.setCountry(country);
        }
        if (homePhone != null) {
            customer.setHomePhone(homePhone);
        }
        if (mobilePhone != null) {
            customer.setMobilePhone(mobilePhone);
        }
        if (primaryEmailAddress != null) {
            customer.setPrimaryEmailAddress(primaryEmailAddress);
        }
        if (secondaryEmailAddress != null) {
            customer.setSecondaryEmailAddress (secondaryEmailAddress);
        }
        customerDao.saveCustomer(customer);
    }
</code></pre>
<p>I have to note here that this example isn’t as bad as it gets. Many times the data-mapping code becomes quite complex, and a lot of business logic gets tucked away in it. I’m sparing you the worst in this example, but you’ve proba- bly seen it for yourself.</p>
<p>Now each of the parameters other than the customerId is optional. We can now use this method to save a Customer under at least a dozen business situations, and more! But is that really a good thing? How could we actually test this method to ensure that it doesn’t save a Customer under the wrong situations?</p>
<p>Without going into extensive detail, this method could function incorrectly in more ways than it could correctly. Perhaps there are database constraints that prevent a completely invalid state from being persisted, but now you have to look at the database to be sure. Almost certainly it will take you some time to mentally map between Java attributes and column names. Once you’ve figured out that part, you find that the database constraints are missing or incomplete.</p>
<p>You could look at the possibly many clients (not counting those added after the user interface was completed to manage automatic remote clients) and com- pare source revisions to gain some insight into why it is implemented the way it is right now. As you search for answers, you learn that nobody can explain why this one method works the way it does, or how many correct uses there are. It could take several hours or days to understand it on your own.</p>
<img src = "../img/image39.png" align = "right" width = "300">    
<p><strong>Cowboy Logic:</strong><br />
AJ: “That fella’s so confused, he doesn’t know if he’s sackin’ potatoes or rollerskatin’ in a buffalo herd.”
<br><br><br><br><br><br><br><br><br></p>
<p>Domain experts can’t help here because they would have to be programmers to understand the code. Even if a domain expert or two knew enough about programming or could at least read the code, they would probably be at least equally at a loss as a developer regarding all that code is meant to support. With all these concerns in mind, do we dare change this code in any way, and if so, how?</p>
<p>There are at least three big problems here:</p>
<ol>
<li>There is little intention revealed by the saveCustomer() interface.</li>
<li>The implementation of saveCustomer() itself adds hidden complexity.</li>
<li>The Customer “domain object” isn’t really an object at all. It’s really just a dumb data holder.</li>
</ol>
<p>Let’s call this unenviable situation <em>anemia-induced memory loss</em>. It happens all the time on projects that produce this kind of implicit, completely subjective code “design.”</p>
<blockquote>
<p><strong>Hold On a Minute!</strong><br />
At this point some of you may be thinking, “Our designs never really leave the whiteboard. We just draw some structure, and once agreement on that is reached, we are set free to implement. Scary.”<br />
If so, try not to distinguish design from implementation. Remember that when practicing DDD, <em>the design is the code and the code is the design</em>. In other words, whiteboard diagrams aren’t the design, just a way to discuss the challenges of the model.<br />
Stay tuned, as you’ll learn how to take ideas off the whiteboard and make them work for you.</p>
</blockquote>
<p>By now you should be worried about this kind of code and how you can create a better design. The good news is that you can succeed in producing an explicit, carefully crafted design in your code.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-to-do-ddd"><a class="header" href="#how-to-do-ddd">How to Do DDD</a></h1>
<p>Let’s back away from heavy implementation discussions for a moment to con- sider one of the most empowering features of DDD, the Ubiquitous Language. It’s one of the two primary pillars of DDD’s strengths, the second being the <strong>Bounded Context (2)</strong>, and one cannot properly stand without the other.</p>
<blockquote>
<p><strong>Terms in a Context</strong><br />
For now think of a Bounded Context as a conceptual boundary around a whole application or finite system. The reason for this boundary is to highlight that every use of a given domain term, phrase, or sentence—the Ubiquitous Language—inside the boundary has a specific contextual meaning. Any use of the term outside that boundary could, and probably does, mean something different. Chapter 2 explains Bounded Context in depth.</p>
</blockquote>
<h2 id="ubiquitous-language"><a class="header" href="#ubiquitous-language">Ubiquitous Language</a></h2>
<p>The Ubiquitous Language is a shared team language. It’s shared by domain experts and developers alike. In fact, it’s shared by everyone on the project team. No matter your role on the team, since you are on the team you use the Ubiquitous Language of the project.</p>
<blockquote>
<p><strong>So, You Think You Know What a Ubiquitous Language Is</strong><br />
<em>Obviously it’s the language of the business.</em><br />
Well, no.<br />
<em>Surely it must be adopting industry standard terminology.</em><br />
No, not really.<br />
<em>Clearly it’s the lingo used by the domain experts.</em><br />
Sorry, but no.<br />
<em>The Ubiquitous Language is a shared language developed by the team—a team composed of both domain experts and software developers.</em><br />
That’s it. Now you’ve got it!<br />
Naturally, the domain experts have a heavy influence on the Language because they know that part of the business best and may be influenced by industry stan- dards. However, the Language is <em>more centered on how the business itself thinks and operates</em>. Also, many times two or more domain experts disagree on concepts and terms, and they are actually wrong about some because they haven’t thought of every case before. So, as the experts and developers work together to craft a model of the domain, they use discussion with both consensus and compromise to achieve the very <em>best Language for the project</em>. The team never compromises on the quality of the Language, just on the best concepts, terms, and meanings. Initial consensus is not the end, however. The Language grows and changes over time as tiny and large breakthroughs are achieved, much like any other living language.</p>
</blockquote>
<p>This is no gimmick to get developers to be on the same page as domain experts. It’s not just a bunch of business jargon being forced on developers. It’s a real language that is created by the whole team—domain experts, developers, business analysts, everyone involved in producing the system. The Language may start out with terms that are the natural lingo of the domain experts, but it isn’t limited to that because the Language must grow over time. Suffice it to say that when multiple domain experts are involved in creating the Language, they often disagree ever so slightly on the terms and meanings of what they thought were already ubiquitous.</p>
<p>In Table 1.4, we not only model the administration of flu vaccines in code, but the team must also speak the Language openly. When the team discusses this aspect of the model, they literally speak phrases such as “Nurses adminis- ter flu vaccines to patients in standard doses.”</p>
<p>There will be some haggling and wrangling over the Language that exists in the minds of experts and what evolves from there. It’s all part of the nat- ural progression of developing the best Language that will matter a lot for a long time. This happens through open discussion, looking at existing docu- ments, business tribal knowledge that finally surfaces, as well as referencing standards, dictionaries, and thesauruses. There’s also a point reached where we come to terms with the fact that some words and phrases just don’t aptly fit the business context as well as we once thought, and we realize that others fit it much better.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-business-value-of-using-ddd"><a class="header" href="#the-business-value-of-using-ddd">The Business Value of Using DDD</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-challenges-of-applying-ddd"><a class="header" href="#the-challenges-of-applying-ddd">The Challenges of Applying DDD</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fiction-with-bucketfuls-of-reality"><a class="header" href="#fiction-with-bucketfuls-of-reality">Fiction, with Bucketfuls of Reality</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up"><a class="header" href="#wrap-up">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-2--domains-subdomains-and-bounded-contexts"><a class="header" href="#chapter-2--domains-subdomains-and-bounded-contexts">Chapter 2  Domains, Subdomains, and Bounded Contexts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="big-picture"><a class="header" href="#big-picture">Big Picture</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="why-strategic-design-is-so-incredibly-essential"><a class="header" href="#why-strategic-design-is-so-incredibly-essential">Why Strategic Design Is So Incredibly Essential</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="real-world-domains-and-subdomains"><a class="header" href="#real-world-domains-and-subdomains">Real-World Domains and Subdomains</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="making-sense-of-bounded-contexts"><a class="header" href="#making-sense-of-bounded-contexts">Making Sense of Bounded Contexts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sample-contexts"><a class="header" href="#sample-contexts">Sample Contexts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-1"><a class="header" href="#wrap-up-1">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-3-context-maps"><a class="header" href="#chapter-3-context-maps">Chapter 3 Context Maps</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="why-context-maps-are-so-essential"><a class="header" href="#why-context-maps-are-so-essential">Why Context Maps Are So Essential</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-2"><a class="header" href="#wrap-up-2">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-4-architecture"><a class="header" href="#chapter-4-architecture">Chapter 4 Architecture</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interviewing-the-successful-cio"><a class="header" href="#interviewing-the-successful-cio">Interviewing the Successful CIO</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="layers"><a class="header" href="#layers">Layers</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hexagonal-or-ports-and-adapters"><a class="header" href="#hexagonal-or-ports-and-adapters">Hexagonal or Ports and Adapters</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="service-oriented"><a class="header" href="#service-oriented">Service-Oriented</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="representational-state-transferrest"><a class="header" href="#representational-state-transferrest">Representational State Transfer—REST</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-query-responsibility-segregation-or-cqrs"><a class="header" href="#command-query-responsibility-segregation-or-cqrs">Command-Query Responsibility Segregation, or CQRS</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="event-driven-architecture"><a class="header" href="#event-driven-architecture">Event-Driven Architecture</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-fabric-and-grid-based-distributed-computing"><a class="header" href="#data-fabric-and-grid-based-distributed-computing">Data Fabric and Grid-Based Distributed Computing</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-3"><a class="header" href="#wrap-up-3">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-5-entities"><a class="header" href="#chapter-5-entities">Chapter 5 Entities</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="why-we-use-entities"><a class="header" href="#why-we-use-entities">Why We Use Entities</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unique-identity"><a class="header" href="#unique-identity">Unique Identity</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="discovering-entities-and-their-intrinsic-characteristics"><a class="header" href="#discovering-entities-and-their-intrinsic-characteristics">Discovering Entities and Their Intrinsic Characteristics</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-4"><a class="header" href="#wrap-up-4">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-6-value-objects"><a class="header" href="#chapter-6-value-objects">Chapter 6 Value Objects</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="value-characteristics"><a class="header" href="#value-characteristics">Value Characteristics</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="integrate-with-minimalism"><a class="header" href="#integrate-with-minimalism">Integrate with Minimalism</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="standard-types-expressed-as-values"><a class="header" href="#standard-types-expressed-as-values">Standard Types Expressed as Values</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing-value-objects"><a class="header" href="#testing-value-objects">Testing Value Objects</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="implementation"><a class="header" href="#implementation">Implementation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="persisting-value-objects"><a class="header" href="#persisting-value-objects">Persisting Value Objects</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-5"><a class="header" href="#wrap-up-5">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-7-services"><a class="header" href="#chapter-7-services">Chapter 7 Services</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="what-a-domain-service-is-but-first-what-it-is-not"><a class="header" href="#what-a-domain-service-is-but-first-what-it-is-not">What a Domain Service Is (but First, What It Is Not)</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="make-sure-you-need-a-service"><a class="header" href="#make-sure-you-need-a-service">Make Sure You Need a Service</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modeling-a-service-in-the-domain"><a class="header" href="#modeling-a-service-in-the-domain">Modeling a Service in the Domain</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing-services"><a class="header" href="#testing-services">Testing Services</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-6"><a class="header" href="#wrap-up-6">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-8-domain-events"><a class="header" href="#chapter-8-domain-events">Chapter 8 Domain Events</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-when-and-why-of-domain-events"><a class="header" href="#the-when-and-why-of-domain-events">The When and Why of Domain Events</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modeling-events"><a class="header" href="#modeling-events">Modeling Events</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="publishing-events-from-the-domain-model"><a class="header" href="#publishing-events-from-the-domain-model">Publishing Events from the Domain Model</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="spreading-the-news-to-remote-bounded-contexts"><a class="header" href="#spreading-the-news-to-remote-bounded-contexts">Spreading the News to Remote Bounded Contexts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="event-store"><a class="header" href="#event-store">Event Store</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="architectural-styles-for-forwarding-stored-events"><a class="header" href="#architectural-styles-for-forwarding-stored-events">Architectural Styles for Forwarding Stored Events</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="implementation-1"><a class="header" href="#implementation-1">Implementation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-7"><a class="header" href="#wrap-up-7">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-9-modules"><a class="header" href="#chapter-9-modules">Chapter 9 Modules</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="designing-with-modules"><a class="header" href="#designing-with-modules">Designing with Modules</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basic-module-naming-conventions"><a class="header" href="#basic-module-naming-conventions">Basic Module Naming Conventions</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="module-naming-conventions-for-the-model"><a class="header" href="#module-naming-conventions-for-the-model">Module Naming Conventions for the Model</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modules-of-the-agile-project-management-context"><a class="header" href="#modules-of-the-agile-project-management-context">Modules of the Agile Project Management Context</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="modules-in-other-layers"><a class="header" href="#modules-in-other-layers">Modules in Other Layers</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="module-before-bounded-context"><a class="header" href="#module-before-bounded-context">Module before Bounded Context</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-8"><a class="header" href="#wrap-up-8">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-10-aggregates"><a class="header" href="#chapter-10-aggregates">Chapter 10 Aggregates</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="using-aggregates-in-the-scrum-core-domain"><a class="header" href="#using-aggregates-in-the-scrum-core-domain">Using Aggregates in the Scrum Core Domain</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rule-model-true-invariants-in-consistency-boundaries"><a class="header" href="#rule-model-true-invariants-in-consistency-boundaries">Rule: Model True Invariants in Consistency Boundaries</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rule-design-small-aggregates"><a class="header" href="#rule-design-small-aggregates">Rule: Design Small Aggregates</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rule-reference-other-aggregates-by-identity"><a class="header" href="#rule-reference-other-aggregates-by-identity">Rule: Reference Other Aggregates by Identity</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rule-use-eventual-consistency-outside-the-boundary"><a class="header" href="#rule-use-eventual-consistency-outside-the-boundary">Rule: Use Eventual Consistency Outside the Boundary</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reasons-to-break-the-rules"><a class="header" href="#reasons-to-break-the-rules">Reasons to Break the Rules</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gaining-insight-through-discovery"><a class="header" href="#gaining-insight-through-discovery">Gaining Insight through Discovery</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="implementation-2"><a class="header" href="#implementation-2">Implementation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-9"><a class="header" href="#wrap-up-9">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-11-factories"><a class="header" href="#chapter-11-factories">Chapter 11 Factories</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="factories-in-the-domain-model"><a class="header" href="#factories-in-the-domain-model">Factories in the Domain Model</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="factory-method-on-aggregate-root"><a class="header" href="#factory-method-on-aggregate-root">Factory Method on Aggregate Root</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="factory-on-service"><a class="header" href="#factory-on-service">Factory on Service</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-10"><a class="header" href="#wrap-up-10">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-12-repositories"><a class="header" href="#chapter-12-repositories">Chapter 12 Repositories</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="collection-oriented-repositories"><a class="header" href="#collection-oriented-repositories">Collection-Oriented Repositories</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="persistence-oriented-repositories"><a class="header" href="#persistence-oriented-repositories">Persistence-Oriented Repositories</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="additional-behavior"><a class="header" href="#additional-behavior">Additional Behavior</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="managing-transactions"><a class="header" href="#managing-transactions">Managing Transactions</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="type-hierarchies"><a class="header" href="#type-hierarchies">Type Hierarchies</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="repository-versus-data-access-object"><a class="header" href="#repository-versus-data-access-object">Repository versus Data Access Object</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="testing-repositories"><a class="header" href="#testing-repositories">Testing Repositories</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-11"><a class="header" href="#wrap-up-11">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-13-integrating-bounded-contexts"><a class="header" href="#chapter-13-integrating-bounded-contexts">Chapter 13 Integrating Bounded Contexts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="integration-basics"><a class="header" href="#integration-basics">Integration Basics</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="integration-using-restful-resources"><a class="header" href="#integration-using-restful-resources">Integration Using RESTful Resources</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="integration-using-messaging"><a class="header" href="#integration-using-messaging">Integration Using Messaging</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-12"><a class="header" href="#wrap-up-12">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chapter-14-application"><a class="header" href="#chapter-14-application">Chapter 14 Application</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="user-interface"><a class="header" href="#user-interface">User Interface</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="application-services"><a class="header" href="#application-services">Application Services</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="composing-multiple-bounded-contexts"><a class="header" href="#composing-multiple-bounded-contexts">Composing Multiple Bounded Contexts</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="infrastructure"><a class="header" href="#infrastructure">Infrastructure</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enterprise-component-containers"><a class="header" href="#enterprise-component-containers">Enterprise Component Containers</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrap-up-13"><a class="header" href="#wrap-up-13">Wrap-Up</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="appendix-a-aggregates-and-event-sourcing-aes"><a class="header" href="#appendix-a-aggregates-and-event-sourcing-aes">Appendix A Aggregates and Event Sourcing: A+ES</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="inside-an-application-service"><a class="header" href="#inside-an-application-service">Inside an Application Service</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-handlers"><a class="header" href="#command-handlers">Command Handlers</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lambda-syntax"><a class="header" href="#lambda-syntax">Lambda Syntax</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="concurrency-control"><a class="header" href="#concurrency-control">Concurrency Control</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="structural-freedom-with-aes"><a class="header" href="#structural-freedom-with-aes">Structural Freedom with A+ES</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="performance"><a class="header" href="#performance">Performance</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="implementing-an-event-store"><a class="header" href="#implementing-an-event-store">Implementing an Event Store</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="relational-persistence"><a class="header" href="#relational-persistence">Relational Persistence</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="blob-persistence"><a class="header" href="#blob-persistence">BLOB Persistence</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="focused-aggregates"><a class="header" href="#focused-aggregates">Focused Aggregates</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="read-model-projections"><a class="header" href="#read-model-projections">Read Model Projections</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="use-with-aggregate-design"><a class="header" href="#use-with-aggregate-design">Use with Aggregate Design</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="events-enrichment"><a class="header" href="#events-enrichment">Events Enrichment</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="supporting-tools-and-patterns"><a class="header" href="#supporting-tools-and-patterns">Supporting Tools and Patterns</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contract-generation"><a class="header" href="#contract-generation">Contract Generation</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unit-testing-and-specifications"><a class="header" href="#unit-testing-and-specifications">Unit Testing and Specifications</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="event-sourcing-in-functional-languages"><a class="header" href="#event-sourcing-in-functional-languages">Event Sourcing in Functional Languages</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bibliography"><a class="header" href="#bibliography">Bibliography</a></h1>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
